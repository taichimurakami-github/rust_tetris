## rust_tetris

rust 勉強日記 #1

## 参考：

https://github.com/liona24/wasm-tetris

## wasm-tetris の解析

### type

- Grid: ゲームの盤面と思われる.

### struct

- Point

  - 座標構造体.

- pub Game

  - properties
    - screen: 盤面？
    - grid: なんだこれ
    - block: Block 構造体、恐らく現在捜査している対象
  - impl
    - new() : ゲームスタート処理
    - draw() : 盤面描画処理
    - input() : ユーザー入力処理

- block
  - properties
    - position: 座標
    - cells: [Point: 4]
    - color_code: js で生成しているカラーコード
  - impl
    - new(): ブロック生成
    - shift(): ブロックの座標をずらす
    - rotate_left(), rotate_right(): 回転処理
    - random(): ランダムなブロックを取得

### fn

- rand_int: usize random int generator
- stem_right & step_left & step_down: ミノの移動
-
- game_finished(): ゲーム終了処理
- clear_full_lines(): フィールド上のライン全消去

## 見ててよくわからなかったこと

- `static`と`const`のちがい
- `#[defive(debug,Clone)]`の意味と使い所
- `#[wasm_bindgen]`の扱い
- `for .. iter()`と`iter_mut()`って何に固有のメソッド？
- 可変参照って副作用の可能性がある？
- rust の参照外しの仕様
- self って PHP でいう self 的な感じ？JS/TS の this 相当はあるのか
- `.any()`メソッドと`.rev()`メソットについて
